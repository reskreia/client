(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["61a5758e"],{"36b1":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"pages-active row items-start",attrs:{padding:""}},[t._l(t.data,function(e,i){return a("q-card",{key:i,staticClass:"q-ma-sm",attrs:{inline:""}},[a("q-card-title",[t._v("\n      "+t._s(e.orderCode)+"\n      "),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[t._v("Meja: "+t._s(e.noTable))])]),a("q-card-main",[3==e.status?a("p",[t._v("Status = Done")]):2==e.status?a("p",[t._v("Status = Process")]):1==e.status?a("p",[t._v("Status = Queue")]):t._e()]),a("q-card-separator"),a("q-card-actions",[a("q-btn",{attrs:{flat:"",disable:"",dense:"",round:"",icon:"event"}}),a("q-btn",{attrs:{flat:"",dense:"",rounded:"",dense:"",color:"blue-10"},on:{click:function(a){t.openModal(e)}}},[t._v("Detail")]),a("q-btn",{attrs:{flat:"",dense:"",rounded:"",dense:"",color:"teal-8"},on:{click:function(a){t.deleteOrder(e,i)}}},[t._v("Delete")]),1==t.role?a("q-btn",{attrs:{flat:"",dense:"",rounded:"",dense:"",color:"primary"},on:{click:function(a){t.orderPay(e)}}},[t._v("Paid")]):t._e()],1)],1)}),a("q-modal",{attrs:{position:"top","content-css":{minWidth:"50vw"}},model:{value:t.basicModal,callback:function(e){t.basicModal=e},expression:"basicModal"}},[a("div",{staticStyle:{padding:"20px"}},[a("div",{staticClass:"q-display-1 q-mb-md"},[t._v("Order")]),a("q-input",{attrs:{inverted:"","hide-underline":"",placeholder:"No. Meja"},model:{value:t.meja,callback:function(e){t.meja=e},expression:"meja"}}),a("br"),a("q-list",{attrs:{"inset-separator":""}},[a("q-collapsible",{attrs:{label:"Detail Item",opened:""}},[a("div",t._l(t.dataOrder,function(e,i){return a("q-list",{key:i,staticClass:"q-mt-md",attrs:{"inset-separator":""}},[a("q-item",[a("q-item-main",{attrs:{label:e.itemName}}),a("q-item-tile",{attrs:{sublabel:""}},[a("span",[t._v("Jumlah: ")]),t._v(" "+t._s(e.itemTotal)+"\n              "),a("q-popup-edit",{model:{value:e.itemTotal,callback:function(a){t.$set(e,"itemTotal","string"===typeof a?a.trim():a)},expression:"o.itemTotal"}},[a("q-input",{attrs:{"hide-underline":"",type:"number"},model:{value:e.itemTotal,callback:function(a){t.$set(e,"itemTotal","string"===typeof a?a.trim():a)},expression:"o.itemTotal"}})],1)],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{flat:"",round:"",icon:"clear"},on:{click:function(a){t.deleteEvent(e,i)}}})],1)],1)],1)}))])],1),a("br"),a("q-btn",{attrs:{color:"primary",label:"Save"},on:{click:t.saveData}})],1)])],2)},o=[];i._withStripped=!0;a("ac6a");var r={data:function(){return{data:[],basicModal:!1,role:this.$store.state.auth.user.userSuper,meja:"",dataOrder:[]}},mounted:function(){this.getActive()},methods:{getActive:function(){var t=this;this.axios.get("/item/list/active").then(function(e){t.data=e.data.data}).catch(function(e){t.$q.notify({message:"Error: "+e.response.data.error,timeout:2e3,color:"negative"})})},saveData:function(){var t=this;this.axios.post("/order/edit",{data:this.dataOrder}).then(function(e){t.getActive(),t.basicModal=!1,t.meja="",t.dataOrder=[]}).catch(function(e){t.$q.notify({message:"Error: "+e.response.data.error,timeout:2e3,color:"negative"})})},deleteEvent:function(t,e){var a=this;this.axios.post("/order/item/delete",{data:OObj.id}).then(function(t){a.dataOrder.splice(e,1)}).catch(function(t){a.$q.notify({message:"Error: "+t.response.data.error,timeout:2e3,color:"negative"})})},deleteOrder:function(t,e){var a=this;this.axios.post("/order/delete",{id:t.id}).then(function(t){a.data.splice(e,1)}).catch(function(t){a.$q.notify({message:"Error: "+t.response.data.error,timeout:2e3,color:"negative"})})},orderPay:function(t,e){var a=this;this.axios.post("/order/pay",{id:t.id}).then(function(t){a.data.splice(e,1)}).catch(function(t){a.$q.notify({message:"Error: "+t.response.data.error,timeout:2e3,color:"negative"})})},openModal:function(t){var e=this;e.dataOrder=[],e.meja=t.noTable,t.item.forEach(function(t){e.dataOrder.push({id:t.id,orderItem:t.orderItem,itemName:t.itemName,itemTotal:t.itemTotal})}),e.basicModal=!0}}},n=r,s=(a("cd27"),a("2877")),d=Object(s["a"])(n,i,o,!1,null,null,null);d.options.__file="orderActive.vue";e["default"]=d.exports},"56d3":function(t,e,a){},cd27:function(t,e,a){"use strict";var i=a("56d3"),o=a.n(i);o.a}}]);